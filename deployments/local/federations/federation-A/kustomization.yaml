---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: argocd-mip-team

# Add a prefix to all resource names
namePrefix: federation-a-
commonLabels:
  app.kubernetes.io/managed-by: argocd
  app.kubernetes.io/part-of: federation-a
  argocd.instance: mip-team
resources:
  - ../../../../deployments/shared-apps/exareme2
  - ../../../../deployments/shared-apps/mip-stack
  - customizations/exareme2-overlay-app.yaml
patches:
# JSON patches to customize project, namespace, and add federation-specific values
  - path: customizations/exareme2-kustomize.yaml
    target:
      kind: Application
      name: exareme2
  - path: customizations/mip-stack-kustomize.yaml
    target:
      kind: Application
      name: mip-stack
